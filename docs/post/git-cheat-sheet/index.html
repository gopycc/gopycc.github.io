<!DOCTYPE html>
<html lang="en"><meta charset="utf-8"><meta name="generator" content="Hugo 0.74.3" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<meta name="color-scheme" content="light dark">
<meta name="supported-color-schemes" content="light dark"><title>Git cheat sheet 让你不用再去记所有的git命令&nbsp;&ndash;&nbsp;GoPy&#43;</title><link rel="stylesheet" href="/css/core.min.8e37aa4bbbb66b6b7c09f85a2e32f6da679366495d864510e49e15cbf7ffed8b16ca3511e910ecd3ab899c53cdc913cc.css" integrity="sha384-jjeqS7u2a2t8CfhaLjL22meTZkldhkUQ5J4Vy/f/7YsWyjUR6RDs06uJnFPNyRPM"><meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Git cheat sheet 让你不用再去记所有的git命令" /><body><section id="header">
    <div class="header wrap"><span class="header left-side"><a class="site home" href="/"><img class="site logo" src="https://pic.cnblogs.com/avatar/19296/20150525185700.png" alt /><span class="site name">GoPy+</span></a></span>
        <span class="header right-side"><div class="nav wrap"><nav class="nav"><a class="nav item" href="/categories/">Categories</a><a class="nav item" href="/tags/">Tags</a><a class="nav item" href="/about/">About</a></nav></div></span></div><div class="site slogan"><span class="title">Webnotes about golang & python.</span></div></section><section id="content"><div class="article-container"><section class="article header">
    <h1 class="article title">Git cheat sheet 让你不用再去记所有的git命令</h1><p class="article date">2018-04-15 00:00<span class="reading-time"> • 6 minutes to read</span></p></section><article class="article markdown-body"><p>在 <a href="http://goinon.org/2018/git-talk/"target="_blank">分享一点Git的感受与总结</a>讲到了vscode中使用git命令行的便利，同时有人在github上分享了一份git的命令手册，转过来备查，愿你也能了然于心。</p>
<p>github: <a href="https://github.com/arslanbilal/git-cheat-sheet">https://github.com/arslanbilal/git-cheat-sheet</a></p>
<p>下面开始Git Cheat Sheet的内容</p>
<hr>
<h3 id="索引">索引</h3>
<ul>
<li><a href="#%e9%85%8d%e7%bd%ae">配置</a></li>
<li><a href="#%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6">配置文件</a></li>
<li><a href="#%e5%88%9b%e5%bb%ba">创建</a></li>
<li><a href="#%e6%9c%ac%e5%9c%b0%e4%bf%ae%e6%94%b9">本地修改</a></li>
<li><a href="#%e6%90%9c%e7%b4%a2">搜索</a></li>
<li><a href="#%e6%8f%90%e4%ba%a4%e5%8e%86%e5%8f%b2">提交历史</a></li>
<li><a href="#%e5%88%86%e6%94%af%e4%b8%8e%e6%a0%87%e7%ad%be">分支与标签</a></li>
<li><a href="#%e6%9b%b4%e6%96%b0%e4%b8%8e%e5%8f%91%e5%b8%83">更新与发布</a></li>
<li><a href="#%e5%90%88%e5%b9%b6%e4%b8%8e%e9%87%8d%e7%bd%ae">合并与重置</a></li>
<li><a href="#%e6%92%a4%e9%94%80">撤销</a></li>
<li><a href="#git-flow">Git Flow</a></li>
</ul>
<hr>
<h3 id="配置">配置</h3>
<h4 id="列出当前配置">列出当前配置：</h4>
<pre><code>$ git config --list
</code></pre><h4 id="列出repository配置">列出repository配置：</h4>
<pre><code>$ git config --local --list
</code></pre><h4 id="列出全局配置">列出全局配置：</h4>
<pre><code>$ git config --global --list
</code></pre><h4 id="列出系统配置">列出系统配置：</h4>
<pre><code>$ git config --system --list
</code></pre><h4 id="设置用户名">设置用户名：</h4>
<pre><code>$ git config --global user.name “[firstname lastname]”
</code></pre><h4 id="设置用户邮箱">设置用户邮箱：</h4>
<pre><code>$ git config --global user.email “[valid-email]”
</code></pre><h4 id="设置git命令输出为彩色">设置git命令输出为彩色：</h4>
<pre><code>$ git config --global color.ui auto
</code></pre><h4 id="设置git使用的文本编辑器设">设置git使用的文本编辑器设：</h4>
<pre><code>$ git config --global core.editor vi
</code></pre><hr>
<h3 id="配置文件">配置文件</h3>
<h4 id="repository配置对应的配置文件路径--local">Repository配置对应的配置文件路径[&ndash;local]：</h4>
<pre><code>&lt;repo&gt;/.git/config
</code></pre><h4 id="用户全局配置对应的配置文件路径--global">用户全局配置对应的配置文件路径[&ndash;global]：</h4>
<pre><code>~/.gitconfig
</code></pre><h4 id="系统配置对应的配置文件路径--local">系统配置对应的配置文件路径[&ndash;local]：</h4>
<pre><code>/etc/gitconfig
</code></pre><hr>
<h3 id="创建">创建</h3>
<h4 id="复制一个已创建的仓库">复制一个已创建的仓库:</h4>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># 通过 SSH</span>
$ git clone ssh://user@domain.com/repo.git

<span class="c1">#通过 HTTP</span>
$ git clone http://domain.com/user/repo.git
</code></pre></div><h4 id="创建一个新的本地仓库">创建一个新的本地仓库:</h4>
<pre><code>$ git init
</code></pre><hr>
<h3 id="本地修改">本地修改</h3>
<h4 id="显示工作路径下已修改的文件">显示工作路径下已修改的文件：</h4>
<pre><code>$ git status
</code></pre><h4 id="显示与上次提交版本文件的不同">显示与上次提交版本文件的不同：</h4>
<pre><code>$ git diff
</code></pre><h4 id="把当前所有修改添加到下次提交中">把当前所有修改添加到下次提交中：</h4>
<pre><code>$ git add .
</code></pre><h4 id="把对某个文件的修改添加到下次提交中">把对某个文件的修改添加到下次提交中：</h4>
<pre><code>$ git add -p &lt;file&gt;
</code></pre><h4 id="提交本地的所有修改">提交本地的所有修改：</h4>
<pre><code>$ git commit -a
</code></pre><h4 id="提交之前已标记的变化">提交之前已标记的变化：</h4>
<pre><code>$ git commit
</code></pre><h4 id="附加消息提交">附加消息提交：</h4>
<pre><code>$ git commit -m 'message here'
</code></pre><h4 id="提交并将提交时间设置为之前的某个日期">提交，并将提交时间设置为之前的某个日期:</h4>
<pre><code>git commit --date=&quot;`date --date='n day ago'`&quot; -am &quot;Commit Message&quot;
</code></pre><h4 id="修改上次提交">修改上次提交</h4>
<p><em><sub>请勿修改已发布的提交记录!</sub></em></p>
<pre><code>$ git commit --amend
</code></pre><h4 id="修改上次提交的committer-date">修改上次提交的committer date：</h4>
<pre><code>GIT_COMMITTER_DATE=&quot;date&quot; git commit --amend
</code></pre><h4 id="修改上次提交的author-date">修改上次提交的author date：</h4>
<pre><code>git commit --amend --date=&quot;date&quot;
</code></pre><h4 id="把当前分支中未提交的修改移动到其他分支">把当前分支中未提交的修改移动到其他分支：</h4>
<pre><code>git stash
git checkout branch2
git stash pop
</code></pre><h4 id="将-stashed-changes-应用到当前分支">将 stashed changes 应用到当前分支：</h4>
<pre><code>git stash apply
</code></pre><h4 id="删除最新一次的-stashed-changes">删除最新一次的 stashed changes：</h4>
<pre><code>git stash drop
</code></pre><hr>
<h3 id="搜索">搜索</h3>
<h4 id="从当前目录的所有文件中查找文本内容">从当前目录的所有文件中查找文本内容：</h4>
<pre><code>$ git grep &quot;Hello&quot;
</code></pre><h4 id="在某一版本中搜索文本">在某一版本中搜索文本：</h4>
<pre><code>$ git grep &quot;Hello&quot; v2.5
</code></pre><hr>
<h3 id="提交历史">提交历史</h3>
<h4 id="从最新提交开始显示所有的提交记录显示hash-作者信息提交的标题和时间">从最新提交开始，显示所有的提交记录（显示hash， 作者信息，提交的标题和时间）：</h4>
<pre><code>$ git log
</code></pre><h4 id="显示所有提交仅显示提交的hash和message">显示所有提交（仅显示提交的hash和message）：</h4>
<pre><code>$ git log --oneline
</code></pre><h4 id="显示某个用户的所有提交">显示某个用户的所有提交：</h4>
<pre><code>$ git log --author=&quot;username&quot;
</code></pre><h4 id="显示某个文件的所有修改">显示某个文件的所有修改：</h4>
<pre><code>$ git log -p &lt;file&gt;
</code></pre><h4 id="仅显示远端remotemaster分支与远端originmaster分支提交记录的差集">仅显示远端&lt;remote/master&gt;分支与远端&lt;origin/master&gt;分支提交记录的差集：</h4>
<pre><code>$ git log --oneline &lt;origin/master&gt;..&lt;remote/master&gt; --left-right
</code></pre><h4 id="谁在什么时间修改了文件的什么内容">谁，在什么时间，修改了文件的什么内容：</h4>
<pre><code>$ git blame &lt;file&gt;
</code></pre><h4 id="显示reflog">显示reflog：</h4>
<pre><code>$ git reflog show 
</code></pre><h4 id="删除reflog">删除reflog：</h4>
<pre><code>$ git reflog delete
</code></pre><hr>
<h3 id="分支与标签">分支与标签</h3>
<h4 id="列出所有的分支">列出所有的分支：</h4>
<pre><code>$ git branch
</code></pre><h4 id="列出所有的远端分支">列出所有的远端分支：</h4>
<pre><code>$ git branch -r
</code></pre><h4 id="切换分支">切换分支：</h4>
<pre><code>$ git checkout &lt;branch&gt;
</code></pre><h4 id="创建并切换到新分支">创建并切换到新分支:</h4>
<pre><code>$ git checkout -b &lt;branch&gt;
</code></pre><h4 id="基于当前分支创建新分支">基于当前分支创建新分支：</h4>
<pre><code>$ git branch &lt;new-branch&gt;
</code></pre><h4 id="基于远程分支创建新的可追溯的分支">基于远程分支创建新的可追溯的分支：</h4>
<pre><code>$ git branch --track &lt;new-branch&gt; &lt;remote-branch&gt;
</code></pre><h4 id="删除本地分支">删除本地分支:</h4>
<pre><code>$ git branch -d &lt;branch&gt;
</code></pre><h4 id="强制删除一个本地分支br">强制删除一个本地分支：<br></h4>
<p><em><sub>将会丢失未合并的修改！</sub></em></p>
<pre><code>$ git branch -D &lt;branch&gt;
</code></pre><h4 id="给当前版本打标签">给当前版本打标签：</h4>
<pre><code>$ git tag &lt;tag-name&gt;
</code></pre><h4 id="给当前版本打标签并附加消息">给当前版本打标签并附加消息：</h4>
<pre><code>$ git tag -a &lt;tag-name&gt;
</code></pre><hr>
<h3 id="更新与发布">更新与发布</h3>
<h4 id="列出当前配置的远程端">列出当前配置的远程端：</h4>
<pre><code>$ git remote -v
</code></pre><h4 id="显示远程端的信息">显示远程端的信息：</h4>
<pre><code>$ git remote show &lt;remote&gt;
</code></pre><h4 id="添加新的远程端">添加新的远程端：</h4>
<pre><code>$ git remote add &lt;remote&gt; &lt;url&gt;
</code></pre><h4 id="下载远程端版本但不合并到head中">下载远程端版本，但不合并到HEAD中：</h4>
<pre><code>$ git fetch &lt;remote&gt;
</code></pre><h4 id="下载远程端版本并自动与head版本合并">下载远程端版本，并自动与HEAD版本合并：</h4>
<pre><code>$ git remote pull &lt;remote&gt; &lt;url&gt;
</code></pre><h4 id="将远程端版本合并到本地版本中">将远程端版本合并到本地版本中：</h4>
<pre><code>$ git pull origin master
</code></pre><h4 id="以rebase方式将远端分支与本地合并">以rebase方式将远端分支与本地合并：</h4>
<pre><code>git pull --rebase &lt;remote&gt; &lt;branch&gt;
</code></pre><h4 id="将本地版本发布到远程端">将本地版本发布到远程端：</h4>
<pre><code>$ git push remote &lt;remote&gt; &lt;branch&gt;
</code></pre><h4 id="删除远程端分支">删除远程端分支：</h4>
<pre><code>$ git push &lt;remote&gt; :&lt;branch&gt; (since Git v1.5.0)
or
git push &lt;remote&gt; --delete &lt;branch&gt; (since Git v1.7.0)
</code></pre><h4 id="发布标签">发布标签:</h4>
<pre><code>$ git push --tags
</code></pre><hr>
<h3 id="合并与重置rebase">合并与重置(Rebase)</h3>
<h4 id="将分支合并到当前head中">将分支合并到当前HEAD中：</h4>
<pre><code>$ git merge &lt;branch&gt;
</code></pre><h4 id="将当前head版本重置到分支中">将当前HEAD版本重置到分支中:</h4>
<p><em><sub>请勿重置已发布的提交!</sub></em></p>
<pre><code>$ git rebase &lt;branch&gt;
</code></pre><h4 id="退出重置">退出重置:</h4>
<pre><code>$ git rebase --abort
</code></pre><h4 id="解决冲突后继续重置">解决冲突后继续重置：</h4>
<pre><code>$ git rebase --continue
</code></pre><h4 id="使用配置好的merge-tool-解决冲突">使用配置好的merge tool 解决冲突：</h4>
<pre><code>$ git mergetool
</code></pre><h4 id="在编辑器中手动解决冲突后标记文件为已解决冲突">在编辑器中手动解决冲突后，标记文件为<code>已解决冲突</code>：</h4>
<pre><code>$ git add &lt;resolved-file&gt;
</code></pre><pre><code>$ git rm &lt;resolved-file&gt;
</code></pre><h4 id="合并提交">合并提交：</h4>
<pre><code>$ git rebase -i &lt;commit-just-before-first&gt;
</code></pre><p>把上面的内容替换为下面的内容：</p>
<p>原内容：</p>
<pre><code>pick &lt;commit_id&gt;
pick &lt;commit_id2&gt;
pick &lt;commit_id3&gt;
</code></pre><p>替换为：</p>
<pre><code>pick &lt;commit_id&gt;
squash &lt;commit_id2&gt;
squash &lt;commit_id3&gt;
</code></pre><hr>
<h3 id="撤销">撤销</h3>
<h4 id="放弃工作目录下的所有修改">放弃工作目录下的所有修改：</h4>
<pre><code>$ git reset --hard HEAD
</code></pre><h4 id="移除缓存区的所有文件ie-撤销上次git-add">移除缓存区的所有文件（i.e. 撤销上次<code>git add</code>）:</h4>
<pre><code>$ git reset HEAD
</code></pre><h4 id="放弃某个文件的所有本地修改">放弃某个文件的所有本地修改：</h4>
<pre><code>$ git checkout HEAD &lt;file&gt;
</code></pre><h4 id="重置一个提交通过创建一个截然不同的新提交">重置一个提交（通过创建一个截然不同的新提交）</h4>
<pre><code>$ git revert &lt;commit&gt;
</code></pre><h4 id="将head重置到指定的版本并抛弃该版本之后的所有修改">将HEAD重置到指定的版本，并抛弃该版本之后的所有修改：</h4>
<pre><code>$ git reset --hard &lt;commit&gt;
</code></pre><h4 id="用远端分支强制覆盖本地分支">用远端分支强制覆盖本地分支：</h4>
<pre><code>git reset --hard &lt;remote/branch&gt; e.g., upstream/master, origin/my-feature
</code></pre><h4 id="将head重置到上一次提交的版本并将之后的修改标记为未添加到缓存区的修改">将HEAD重置到上一次提交的版本，并将之后的修改标记为未添加到缓存区的修改：</h4>
<pre><code>$ git reset &lt;commit&gt;
</code></pre><h4 id="将head重置到上一次提交的版本并保留未提交的本地修改">将HEAD重置到上一次提交的版本，并保留未提交的本地修改：</h4>
<pre><code>$ git reset --keep &lt;commit&gt;
</code></pre><h4 id="删除添加gitignore文件前错误提交的文件">删除添加<code>.gitignore</code>文件前错误提交的文件：</h4>
<pre><code>$ git rm -r --cached .
$ git add .
$ git commit -m &quot;remove xyz file&quot;
</code></pre><hr>
<h2 id="git-flow">Git-Flow</h2>
<h3 id="索引-1">索引</h3>
<ul>
<li><a href="#%e5%ae%89%e8%a3%85">安装</a></li>
<li><a href="#%e5%bc%80%e5%a7%8b">开始</a></li>
<li><a href="#%e7%89%b9%e6%80%a7">特性</a></li>
<li><a href="#%e5%81%9a%e4%b8%80%e4%b8%aarelease%e7%89%88%e6%9c%ac">做一个release版本</a></li>
<li><a href="#%e7%b4%a7%e6%80%a5%e4%bf%ae%e5%a4%8d">紧急修复</a></li>
<li><a href="#commands">Commands</a></li>
</ul>
<hr>
<h3 id="安装">安装</h3>
<ul>
<li>你需要有一个可以工作的 git 作为前提。</li>
<li>Git flow 可以工作在 OSX, Linux 和 Windows之下</li>
</ul>
<h4 id="osx-homebrew">OSX Homebrew:</h4>
<pre><code>$ brew install git-flow
</code></pre><h4 id="osx-macports">OSX Macports:</h4>
<pre><code>$ port install git-flow
</code></pre><h4 id="linux">Linux:</h4>
<pre><code>$ apt-get install git-flow
</code></pre><h4 id="windows-cygwin">Windows (Cygwin):</h4>
<p>安装 git-flow, 你需要 wget 和 util-linux。</p>
<pre><code>$ wget -q -O - --no-check-certificate https://github.com/nvie/gitflow/raw/develop/contrib/gitflow-installer.sh | bash
</code></pre><hr>
<h3 id="开始">开始</h3>
<ul>
<li>为了自定义你的项目，Git flow 需要初始化过程。</li>
<li>使用 git-flow，从初始化一个现有的 git 库内开始。</li>
<li>初始化，你必须回答几个关于分支的命名约定的问题。建议使用默认值。</li>
</ul>
<pre><code>git flow init
</code></pre><hr>
<h3 id="特性">特性</h3>
<ul>
<li>为即将发布的版本开发新功能特性。</li>
<li>这通常只存在开发者的库中。</li>
</ul>
<h4 id="创建一个新特性">创建一个新特性:</h4>
<p>下面操作创建了一个新的feature分支，并切换到该分支</p>
<pre><code>git flow feature start MYFEATURE
</code></pre><h4 id="完成新特性的开发">完成新特性的开发:</h4>
<p>完成开发新特性。这个动作执行下面的操作：</p>
<ol>
<li>合并 MYFEATURE 分支到 &lsquo;develop&rsquo;</li>
<li>删除这个新特性分支</li>
<li>切换回 &lsquo;develop&rsquo; 分支</li>
</ol>
<pre><code>git flow feature finish MYFEATURE
</code></pre><h4 id="发布新特性">发布新特性:</h4>
<p>你是否合作开发一项新特性？
发布新特性分支到远程服务器，所以，其它用户也可以使用这分支。</p>
<pre><code>git flow feature publish MYFEATURE
</code></pre><h4 id="取得一个发布的新特性分支">取得一个发布的新特性分支:</h4>
<p>取得其它用户发布的新特性分支。</p>
<pre><code>git flow feature pull origin MYFEATURE
</code></pre><h4 id="追溯远端上的特性">追溯远端上的特性:</h4>
<p>通过下面命令追溯远端上的特性</p>
<pre><code>git flow feature track MYFEATURE
</code></pre><hr>
<h3 id="做一个release版本">做一个release版本</h3>
<ul>
<li>支持一个新的用于生产环境的发布版本。</li>
<li>允许修正小问题，并为发布版本准备元数据。</li>
</ul>
<h4 id="开始创建release版本">开始创建release版本:</h4>
<ul>
<li>开始创建release版本，使用 git flow release 命令。</li>
<li>&lsquo;release&rsquo; 分支的创建基于 &lsquo;develop&rsquo; 分支。</li>
<li>你可以选择提供一个 [BASE]参数，即提交记录的 sha-1 hash 值，来开启动 release 分支。</li>
<li>这个提交记录的 sha-1 hash 值必须是&rsquo;develop&rsquo; 分支下的。</li>
</ul>
<pre><code>git flow release start RELEASE [BASE]
</code></pre><p>创建 release 分支之后立即发布允许其它用户向这个 release 分支提交内容是个明智的做法。命令十分类似发布新特性：</p>
<pre><code>git flow release publish RELEASE
</code></pre><p>(你可以通过 
<code>git flow release track RELEASE</code> 命令追溯远端的 release 版本)</p>
<h4 id="完成-release-版本">完成 release 版本:</h4>
<p>完成 release 版本是一个大 git 分支操作。它执行下面几个动作：</p>
<ol>
<li>归并 release 分支到 &lsquo;master&rsquo; 分支。</li>
<li>用 release 分支名打 Tag</li>
<li>归并 release 分支到 &lsquo;develop&rsquo;</li>
<li>移除 release 分支。</li>
</ol>
<pre><code>git flow release finish RELEASE
</code></pre><p>不要忘记使用<code>git push --tags</code>将tags推送到远端</p>
<hr>
<h3 id="紧急修复">紧急修复</h3>
<p>紧急修复来自这样的需求：生产环境的版本处于一个不预期状态，需要立即修正。有可能是需要修正 master 分支上某个 TAG 标记的生产版本。</p>
<h4 id="开始-git-flow-紧急修复">开始 git flow 紧急修复:</h4>
<p>像其它 git flow 命令一样, 紧急修复分支开始自：</p>
<pre><code>$ git flow hotfix start VERSION [BASENAME]
</code></pre><p>VERSION 参数标记着修正版本。你可以从 <code>[BASENAME]开始，</code>[BASENAME]`为finish release时填写的版本号</p>
<h4 id="完成紧急修复">完成紧急修复:</h4>
<p>当完成紧急修复分支，代码归并回 develop 和 master 分支。相应地，master 分支打上修正版本的 TAG。</p>
<pre><code>git flow hotfix finish VERSION
</code></pre><hr>
<h3 id="commands">Commands</h3>
<p align="center">
    <img alt="Git" src="/static/img/git-flow-commands.png" height="270" width="460">
</p>
<hr>
<h3 id="git-flow-schema">Git flow schema</h3>
<p align="center">
    <img alt="Git" src="/static/img/git-flow-commands-without-flow.png">
</p>
<hr></article><section class="article labels"><a class="category" href=/categories/%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86/>版本管理</a><a class="tag" href=/tags/git%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86/>Git版本管理</a></section><section class="article author"><img class="avatar" src="https://pic.cnblogs.com/avatar/19296/20150525185700.png" alt><p class="name">gopycc</p><div class="bio">努力做好自已，其他的交给时间</div><div class="details"><a class="item" href="https://github.com/gopycc" target="_blank"><span class="iconfont icon-github"></span>&nbsp;gopycc</a></div>
</section></div>
<div class="article bottom"><section class="article navigation"><p><a class="link" href="/post/git-talk/"><span class="iconfont icon-article"></span>分享一点Git的感受与总结</a></p></section></div></section><section id="footer"><div class="footer-wrap">
    <p class="copyright">©2020 Gopy.cc</p>
    <p class="powerby"><span>Powered&nbsp;by&nbsp;</span><a href="https://gohugo.io" 
        target="_blank">Hugo</a><span>&nbsp;&amp;&nbsp;</span><a href="https://themes.gohugo.io/hugo-notepadium/" 
        target="_blank">Notepadium</a></p></div></section></body>

</html>